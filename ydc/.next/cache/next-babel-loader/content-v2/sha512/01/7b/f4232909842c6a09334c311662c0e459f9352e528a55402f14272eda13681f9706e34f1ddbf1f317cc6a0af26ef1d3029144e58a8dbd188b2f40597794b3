{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\pijon\\\\react-tutorial\\\\YDConnect\\\\pages\\\\accountIdFind.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useCallback, useMemo } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport * as yup from \"yup\";\nimport { useForm } from \"react-hook-form\";\nimport { Tabs, TabList, TabPanels, Tab, TabPanel, Heading, ChakraProvider, Input, InputGroup, InputLeftElement, Box, Button, Divider } from \"@chakra-ui/react\";\nimport { PhoneIcon } from \"@chakra-ui/icons\";\nimport { RiUserFill } from \"react-icons/ri\";\nimport SignLayout from \"../components/SignLayout\";\n\nconst useYupValidationResolver = validationSchema => useCallback(async data => {\n  try {\n    const values = await validationSchema.validate(data, {\n      abortEarly: false\n    });\n    return {\n      values,\n      errors: {}\n    };\n  } catch (errors) {\n    return {\n      values: {},\n      errors: errors.inner.reduce((allErrors, currentError) => {\n        var _currentError$type;\n\n        return _objectSpread(_objectSpread({}, allErrors), {}, {\n          [currentError.path]: {\n            type: (_currentError$type = currentError.type) !== null && _currentError$type !== void 0 ? _currentError$type : \"validation\",\n            message: currentError.message\n          }\n        });\n      }, {})\n    };\n  }\n}, [validationSchema]);\n\nexport default function signin() {\n  var _errors$name, _errors$phone;\n\n  const {\n    0: findEmail,\n    1: setFindEmail\n  } = useState(\"\");\n  const validationSchema = useMemo(() => yup.object({\n    name: yup.string().required(\"이름을 입력해주세요\"),\n    phone: yup.number().typeError(\"-없이 숫자만 입력해주세요\").required(\"전화번호를 입력해주세요\")\n  }));\n  const resolver = useYupValidationResolver(validationSchema);\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm({\n    resolver\n  });\n\n  const handleFormSubmit = data => {\n    fetch(process.env.LocalHost + \"/accountInfoFindId\", {\n      method: \"post\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: data.name,\n        phone: data.phone\n      })\n    }).then(res => res.json()).then(res => {\n      if (res[0] != null) {\n        setFindEmail(`로그인 아이디는\\n${res[0].email}\\n입니다`);\n      } else {\n        setFindEmail(\"정보가 없습니다.\\n이름과 번호를 확인해주세요\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ChakraProvider, {\n    children: /*#__PURE__*/_jsxDEV(SignLayout, {\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        isFitted: true,\n        variant: \"enclosed-colored\",\n        defaultIndex: 0,\n        children: [/*#__PURE__*/_jsxDEV(TabList, {\n          mb: \"1rem\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            w: \"175px\",\n            _selected: {\n              color: \"white\",\n              bg: \"blue.500\"\n            },\n            children: \"\\uC544\\uC774\\uB514\\uCC3E\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            w: \"175px\",\n            onClick: e => {\n              e.preventDefault();\n              Router.push(\"/accountPwFind\");\n            },\n            children: \"\\uBE44\\uBC00\\uBC88\\uD638\\uCC3E\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanels, {\n          children: /*#__PURE__*/_jsxDEV(TabPanel, {\n            children: /*#__PURE__*/_jsxDEV(Heading, {\n              as: \"h1\",\n              size: \"md\",\n              textAlign: \"center\",\n              mb: \"30px\",\n              children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit(handleFormSubmit),\n                children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                  mt: 3,\n                  children: [/*#__PURE__*/_jsxDEV(InputLeftElement, {\n                    pointerEvents: \"none\",\n                    children: /*#__PURE__*/_jsxDEV(RiUserFill, {\n                      color: \"gray.400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    name: \"name\",\n                    type: \"text\",\n                    placeholder: \"\\uC774\\uB984\",\n                    ref: register\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  pl: 2,\n                  color: \"red\",\n                  fontSize: \"0.85rem\",\n                  children: (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                  mt: 3,\n                  children: [/*#__PURE__*/_jsxDEV(InputLeftElement, {\n                    pointerEvents: \"none\",\n                    children: /*#__PURE__*/_jsxDEV(PhoneIcon, {\n                      color: \"gray.400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    name: \"phone\",\n                    type: \"number\",\n                    placeholder: \"\\uC804\\uD654\\uBC88\\uD638\",\n                    ref: register\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  pl: 2,\n                  color: \"red\",\n                  fontSize: \"0.85rem\",\n                  children: (_errors$phone = errors.phone) === null || _errors$phone === void 0 ? void 0 : _errors$phone.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  mt: 5,\n                  mb: 3,\n                  colorScheme: \"blue\",\n                  size: \"md\",\n                  isFullWidth: true,\n                  children: \"\\uC870\\uD68C\\uD558\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  mt: 1,\n                  mb: 1,\n                  colorScheme: \"blue\",\n                  variant: \"outline\",\n                  size: \"md\",\n                  isFullWidth: true,\n                  onClick: e => {\n                    e.preventDefault();\n                    Router.push(\"/signin\");\n                  },\n                  children: \"\\uB85C\\uADF8\\uC778\\uD654\\uBA74\\uC73C\\uB85C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                p: \"0\",\n                whiteSpace: \"pre-wrap\",\n                border: \"0\",\n                readOnly: true,\n                children: findEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          color: \"#0073e9\",\n          cursor: \"pointer\",\n          mt: \"3\",\n          float: \"right\",\n          fontSize: \"15px\",\n          children: \"\\uD648\\uC73C\\uB85C \\uFF1E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/pijon/react-tutorial/YDConnect/pages/accountIdFind.js"],"names":["React","useState","useCallback","useMemo","Link","Router","yup","useForm","Tabs","TabList","TabPanels","Tab","TabPanel","Heading","ChakraProvider","Input","InputGroup","InputLeftElement","Box","Button","Divider","PhoneIcon","RiUserFill","SignLayout","useYupValidationResolver","validationSchema","data","values","validate","abortEarly","errors","inner","reduce","allErrors","currentError","path","type","message","signin","findEmail","setFindEmail","object","name","string","required","phone","number","typeError","resolver","handleSubmit","register","handleFormSubmit","fetch","process","env","LocalHost","method","headers","body","JSON","stringify","then","res","json","email","color","bg","e","preventDefault","push"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,EAAuCC,OAAvC,QAAsD,OAAtD;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SACEC,IADF,EAEEC,OAFF,EAGEC,SAHF,EAIEC,GAJF,EAKEC,QALF,EAMEC,OANF,EAOEC,cAPF,EAQEC,KARF,EASEC,UATF,EAUEC,gBAVF,EAWEC,GAXF,EAYEC,MAZF,EAaEC,OAbF,QAcO,kBAdP;AAeA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,MAAMC,wBAAwB,GAAIC,gBAAD,IAC/BvB,WAAW,CACT,MAAOwB,IAAP,IAAgB;AACd,MAAI;AACF,UAAMC,MAAM,GAAG,MAAMF,gBAAgB,CAACG,QAAjB,CAA0BF,IAA1B,EAAgC;AACnDG,MAAAA,UAAU,EAAE;AADuC,KAAhC,CAArB;AAIA,WAAO;AACLF,MAAAA,MADK;AAELG,MAAAA,MAAM,EAAE;AAFH,KAAP;AAID,GATD,CASE,OAAOA,MAAP,EAAe;AACf,WAAO;AACLH,MAAAA,MAAM,EAAE,EADH;AAELG,MAAAA,MAAM,EAAEA,MAAM,CAACC,KAAP,CAAaC,MAAb,CACN,CAACC,SAAD,EAAYC,YAAZ;AAAA;;AAAA,+CACKD,SADL;AAEE,WAACC,YAAY,CAACC,IAAd,GAAqB;AACnBC,YAAAA,IAAI,wBAAEF,YAAY,CAACE,IAAf,mEAAuB,YADR;AAEnBC,YAAAA,OAAO,EAAEH,YAAY,CAACG;AAFH;AAFvB;AAAA,OADM,EAQN,EARM;AAFH,KAAP;AAaD;AACF,CA1BQ,EA2BT,CAACZ,gBAAD,CA3BS,CADb;;AA+BA,eAAe,SAASa,MAAT,GAAkB;AAAA;;AAC/B,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4BvC,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAMwB,gBAAgB,GAAGtB,OAAO,CAAC,MAC/BG,GAAG,CAACmC,MAAJ,CAAW;AACTC,IAAAA,IAAI,EAAEpC,GAAG,CAACqC,MAAJ,GAAaC,QAAb,CAAsB,YAAtB,CADG;AAETC,IAAAA,KAAK,EAAEvC,GAAG,CACPwC,MADI,GAEJC,SAFI,CAEM,gBAFN,EAGJH,QAHI,CAGK,cAHL;AAFE,GAAX,CAD8B,CAAhC;AASA,QAAMI,QAAQ,GAAGxB,wBAAwB,CAACC,gBAAD,CAAzC;AACA,QAAM;AAAEwB,IAAAA,YAAF;AAAgBC,IAAAA,QAAhB;AAA0BpB,IAAAA;AAA1B,MAAqCvB,OAAO,CAAC;AAAEyC,IAAAA;AAAF,GAAD,CAAlD;;AAEA,QAAMG,gBAAgB,GAAIzB,IAAD,IAAU;AACjC0B,IAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,SAAZ,GAAwB,oBAAzB,EAA+C;AAClDC,MAAAA,MAAM,EAAE,MAD0C;AAElDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFyC;AAKlDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBlB,QAAAA,IAAI,EAAEhB,IAAI,CAACgB,IADQ;AAEnBG,QAAAA,KAAK,EAAEnB,IAAI,CAACmB;AAFO,OAAf;AAL4C,KAA/C,CAAL,CAUGgB,IAVH,CAUSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAVjB,EAWGF,IAXH,CAWSC,GAAD,IAAS;AACb,UAAIA,GAAG,CAAC,CAAD,CAAH,IAAU,IAAd,EAAoB;AAClBtB,QAAAA,YAAY,CAAE,aAAYsB,GAAG,CAAC,CAAD,CAAH,CAAOE,KAAM,OAA3B,CAAZ;AACD,OAFD,MAEO;AACLxB,QAAAA,YAAY,CAAC,2BAAD,CAAZ;AACD;AACF,KAjBH;AAkBD,GAnBD;;AAqBA,sBACE,QAAC,cAAD;AAAA,2BACE,QAAC,UAAD;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,QAAQ,MAAd;AAAe,QAAA,OAAO,EAAC,kBAAvB;AAA0C,QAAA,YAAY,EAAE,CAAxD;AAAA,gCAEE,QAAC,OAAD;AAAS,UAAA,EAAE,EAAC,MAAZ;AAAA,kCACE,QAAC,GAAD;AAAK,YAAA,CAAC,EAAC,OAAP;AAAe,YAAA,SAAS,EAAE;AAAEyB,cAAAA,KAAK,EAAE,OAAT;AAAkBC,cAAAA,EAAE,EAAE;AAAtB,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,MAAD;AACE,YAAA,CAAC,EAAC,OADJ;AAEE,YAAA,OAAO,EAAGC,CAAD,IAAO;AACdA,cAAAA,CAAC,CAACC,cAAF;AACA/D,cAAAA,MAAM,CAACgE,IAAP,CAAY,gBAAZ;AACD,aALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAgBE,QAAC,SAAD;AAAA,iCACE,QAAC,QAAD;AAAA,mCACE,QAAC,OAAD;AAAS,cAAA,EAAE,EAAC,IAAZ;AAAiB,cAAA,IAAI,EAAC,IAAtB;AAA2B,cAAA,SAAS,EAAC,QAArC;AAA8C,cAAA,EAAE,EAAC,MAAjD;AAAA,sCACE;AAAM,gBAAA,QAAQ,EAAEpB,YAAY,CAACE,gBAAD,CAA5B;AAAA,wCACE,QAAC,UAAD;AAAY,kBAAA,EAAE,EAAE,CAAhB;AAAA,0CACE,QAAC,gBAAD;AACE,oBAAA,aAAa,EAAC,MADhB;AAEE,oBAAA,QAAQ,eAAE,QAAC,UAAD;AAAY,sBAAA,KAAK,EAAC;AAAlB;AAAA;AAAA;AAAA;AAAA;AAFZ;AAAA;AAAA;AAAA;AAAA,0BADF,eAKE,QAAC,KAAD;AACE,oBAAA,IAAI,EAAC,MADP;AAEE,oBAAA,IAAI,EAAC,MAFP;AAGE,oBAAA,WAAW,EAAC,cAHd;AAIE,oBAAA,GAAG,EAAED;AAJP;AAAA;AAAA;AAAA;AAAA,0BALF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAaE,QAAC,GAAD;AAAK,kBAAA,EAAE,EAAE,CAAT;AAAY,kBAAA,KAAK,EAAC,KAAlB;AAAwB,kBAAA,QAAQ,EAAC,SAAjC;AAAA,4CACGpB,MAAM,CAACY,IADV,iDACG,aAAaL;AADhB;AAAA;AAAA;AAAA;AAAA,wBAbF,eAgBE,QAAC,UAAD;AAAY,kBAAA,EAAE,EAAE,CAAhB;AAAA,0CACE,QAAC,gBAAD;AACE,oBAAA,aAAa,EAAC,MADhB;AAEE,oBAAA,QAAQ,eAAE,QAAC,SAAD;AAAW,sBAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA;AAFZ;AAAA;AAAA;AAAA;AAAA,0BADF,eAKE,QAAC,KAAD;AACE,oBAAA,IAAI,EAAC,OADP;AAEE,oBAAA,IAAI,EAAC,QAFP;AAGE,oBAAA,WAAW,EAAC,0BAHd;AAIE,oBAAA,GAAG,EAAEa;AAJP;AAAA;AAAA;AAAA;AAAA,0BALF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhBF,eA4BE,QAAC,GAAD;AAAK,kBAAA,EAAE,EAAE,CAAT;AAAY,kBAAA,KAAK,EAAC,KAAlB;AAAwB,kBAAA,QAAQ,EAAC,SAAjC;AAAA,6CACGpB,MAAM,CAACe,KADV,kDACG,cAAcR;AADjB;AAAA;AAAA;AAAA;AAAA,wBA5BF,eAgCE,QAAC,MAAD;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,EAAE,EAAE,CAFN;AAGE,kBAAA,EAAE,EAAE,CAHN;AAIE,kBAAA,WAAW,EAAC,MAJd;AAKE,kBAAA,IAAI,EAAC,IALP;AAME,kBAAA,WAAW,MANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhCF,eA0CE,QAAC,MAAD;AACE,kBAAA,EAAE,EAAE,CADN;AAEE,kBAAA,EAAE,EAAE,CAFN;AAGE,kBAAA,WAAW,EAAC,MAHd;AAIE,kBAAA,OAAO,EAAC,SAJV;AAKE,kBAAA,IAAI,EAAC,IALP;AAME,kBAAA,WAAW,MANb;AAOE,kBAAA,OAAO,EAAG8B,CAAD,IAAO;AACdA,oBAAAA,CAAC,CAACC,cAAF;AACA/D,oBAAAA,MAAM,CAACgE,IAAP,CAAY,SAAZ;AACD,mBAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA1CF,eAwDE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,wBAxDF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eA2DE,QAAC,GAAD;AAAK,gBAAA,CAAC,EAAC,GAAP;AAAW,gBAAA,UAAU,EAAC,UAAtB;AAAiC,gBAAA,MAAM,EAAC,GAAxC;AAA4C,gBAAA,QAAQ,MAApD;AAAA,0BACG9B;AADH;AAAA;AAAA;AAAA;AAAA,sBA3DF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAqFE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AAAA,+BACE,QAAC,GAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,MAAM,EAAC,SAFT;AAGE,UAAA,EAAE,EAAC,GAHL;AAIE,UAAA,KAAK,EAAC,OAJR;AAKE,UAAA,QAAQ,EAAC,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cArFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAqGD","sourcesContent":["import React, { useState, useCallback, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Router from \"next/router\";\r\nimport * as yup from \"yup\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  Tabs,\r\n  TabList,\r\n  TabPanels,\r\n  Tab,\r\n  TabPanel,\r\n  Heading,\r\n  ChakraProvider,\r\n  Input,\r\n  InputGroup,\r\n  InputLeftElement,\r\n  Box,\r\n  Button,\r\n  Divider,\r\n} from \"@chakra-ui/react\";\r\nimport { PhoneIcon } from \"@chakra-ui/icons\";\r\nimport { RiUserFill } from \"react-icons/ri\";\r\nimport SignLayout from \"../components/SignLayout\";\r\n\r\nconst useYupValidationResolver = (validationSchema) =>\r\n  useCallback(\r\n    async (data) => {\r\n      try {\r\n        const values = await validationSchema.validate(data, {\r\n          abortEarly: false,\r\n        });\r\n\r\n        return {\r\n          values,\r\n          errors: {},\r\n        };\r\n      } catch (errors) {\r\n        return {\r\n          values: {},\r\n          errors: errors.inner.reduce(\r\n            (allErrors, currentError) => ({\r\n              ...allErrors,\r\n              [currentError.path]: {\r\n                type: currentError.type ?? \"validation\",\r\n                message: currentError.message,\r\n              },\r\n            }),\r\n            {}\r\n          ),\r\n        };\r\n      }\r\n    },\r\n    [validationSchema]\r\n  );\r\n\r\nexport default function signin() {\r\n  const [findEmail, setFindEmail] = useState(\"\");\r\n\r\n  const validationSchema = useMemo(() =>\r\n    yup.object({\r\n      name: yup.string().required(\"이름을 입력해주세요\"),\r\n      phone: yup\r\n        .number()\r\n        .typeError(\"-없이 숫자만 입력해주세요\")\r\n        .required(\"전화번호를 입력해주세요\"),\r\n    })\r\n  );\r\n  const resolver = useYupValidationResolver(validationSchema);\r\n  const { handleSubmit, register, errors } = useForm({ resolver });\r\n\r\n  const handleFormSubmit = (data) => {\r\n    fetch(process.env.LocalHost + \"/accountInfoFindId\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        phone: data.phone,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res[0] != null) {\r\n          setFindEmail(`로그인 아이디는\\n${res[0].email}\\n입니다`);\r\n        } else {\r\n          setFindEmail(\"정보가 없습니다.\\n이름과 번호를 확인해주세요\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <ChakraProvider>\r\n      <SignLayout>\r\n        <Tabs isFitted variant=\"enclosed-colored\" defaultIndex={0}>\r\n          {/* Tab Title */}\r\n          <TabList mb=\"1rem\">\r\n            <Tab w=\"175px\" _selected={{ color: \"white\", bg: \"blue.500\" }}>\r\n              아이디찾기\r\n            </Tab>\r\n            <Button\r\n              w=\"175px\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                Router.push(\"/accountPwFind\");\r\n              }}\r\n            >\r\n              비밀번호찾기\r\n            </Button>\r\n          </TabList>\r\n          <TabPanels>\r\n            <TabPanel>\r\n              <Heading as=\"h1\" size=\"md\" textAlign=\"center\" mb=\"30px\">\r\n                <form onSubmit={handleSubmit(handleFormSubmit)}>\r\n                  <InputGroup mt={3}>\r\n                    <InputLeftElement\r\n                      pointerEvents=\"none\"\r\n                      children={<RiUserFill color=\"gray.400\" />}\r\n                    />\r\n                    <Input\r\n                      name=\"name\"\r\n                      type=\"text\"\r\n                      placeholder=\"이름\"\r\n                      ref={register}\r\n                    />\r\n                  </InputGroup>\r\n                  <Box pl={2} color=\"red\" fontSize=\"0.85rem\">\r\n                    {errors.name?.message}\r\n                  </Box>\r\n                  <InputGroup mt={3}>\r\n                    <InputLeftElement\r\n                      pointerEvents=\"none\"\r\n                      children={<PhoneIcon color=\"gray.400\" />}\r\n                    />\r\n                    <Input\r\n                      name=\"phone\"\r\n                      type=\"number\"\r\n                      placeholder=\"전화번호\"\r\n                      ref={register}\r\n                    />\r\n                  </InputGroup>\r\n                  <Box pl={2} color=\"red\" fontSize=\"0.85rem\">\r\n                    {errors.phone?.message}\r\n                  </Box>\r\n\r\n                  <Button\r\n                    type=\"submit\"\r\n                    mt={5}\r\n                    mb={3}\r\n                    colorScheme=\"blue\"\r\n                    size=\"md\"\r\n                    isFullWidth\r\n                  >\r\n                    조회하기\r\n                  </Button>\r\n                  <Button\r\n                    mt={1}\r\n                    mb={1}\r\n                    colorScheme=\"blue\"\r\n                    variant=\"outline\"\r\n                    size=\"md\"\r\n                    isFullWidth\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      Router.push(\"/signin\");\r\n                    }}\r\n                  >\r\n                    로그인화면으로\r\n                  </Button>\r\n                  <Divider />\r\n                </form>\r\n                <Box p=\"0\" whiteSpace=\"pre-wrap\" border=\"0\" readOnly>\r\n                  {findEmail}\r\n                </Box>\r\n              </Heading>\r\n            </TabPanel>\r\n          </TabPanels>\r\n        </Tabs>\r\n        <Link href=\"/\">\r\n          <Box\r\n            color=\"#0073e9\"\r\n            cursor=\"pointer\"\r\n            mt=\"3\"\r\n            float=\"right\"\r\n            fontSize=\"15px\"\r\n          >\r\n            홈으로 ＞\r\n          </Box>\r\n        </Link>\r\n      </SignLayout>\r\n    </ChakraProvider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}